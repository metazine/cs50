CREATE TABLE IF NOT EXISTS 'user' (
    'id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    'username' TEXT NOT NULL,
    'hash' TEXT NOT NULL,
    'cash' NUMERIC NOT NULL DEFAULT 10000.00 
);

CREATE UNIQUE INDEX 'username' ON "user" ("username");

CREATE TABLE IF NOT EXISTS 'stock' (
    'id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    'name' TEXT NOT NULL UNIQUE,
    'symbol' TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS 'trade' (
    'id' INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    'share_count' INTEGER NOT NULL,
    'date_time' DATETIME NOT NULL,
    'stock_id' INTEGER,
    'user_id' INTEGER,
    FOREIGN KEY ('stock_id') REFERENCES 'stock'('id'),
    FOREIGN KEY ('user_id')  REFERENCES 'user'('id')
);